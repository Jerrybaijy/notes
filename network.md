---
title: network
author: Jerry.Baijy
tags:
  - 应用科学
  - it
  - it-basics
  - web
---

# [Router 路由](https://developer.mozilla.org/zh-CN/docs/Learn/Server-side/Express_Nodejs/routes)

路由是一段 Express 代码，它将 HTTP 动词（`GET`、`POST`、`PUT`、`DELETE` 等）、URL 路径/模式和处理函数三者关联起来。

前后端是通过路由建立起的联系。

# Port 端口

**端口**（Port）是计算机网络中用于标识数据传输终点的一种逻辑概念，它在传输层协议（如 TCP 或 UDP）中用来区分同一 IP 地址上的不同服务或应用程序。端口可以看作是一种“门”，每个端口对应一个特定的服务，比如 Web 服务、邮件服务等。

端口号是一个 16 位的数字，范围从 0 到 65535。端口号从 0 到 1023 被称为“知名端口”或“系统端口”，通常被用于常见的服务，例如 HTTP（80 端口）、HTTPS（443 端口）、SSH（22 端口）等。从 1024 到 49151 的端口号被称为“注册端口”，用于注册的应用程序。而从 49152 到 65535 的端口号则是“动态或私有端口”，用于临时分配给客户端应用程序。

## Command

- 常用命令

  ```bash
  # 查看占用端口号的程序（Windows）
  netstat -ano | findstr :$PORT
  ```

作为程序员，你主要关注计算机网络中和开发、部署、调试相关的核心概念，以下是最重要的部分：

# 网络分层模型（重点关注 TCP/IP 四层模型）

- **应用层**（HTTP, HTTPS, WebSocket, DNS, FTP）
- **传输层**（TCP：可靠传输，UDP：高效但不可靠）
- **网络层**（IP、路由）
- **数据链路层**（MAC 地址、交换机）

# IP

- **IPv4** vs **IPv6**（开发主要用 IPv4）
- **私有 IP（192.168.x.x, 10.x.x.x）** vs **公网 IP**
- **端口号**（常见端口：80/443 HTTP/HTTPS, 22 SSH, 3306 MySQL）

Internet Protocol（互联网协议，简称 **IP**），是计算机网络中用于**设备寻址和数据传输**的协议，每台联网设备都会被分配一个 IP 地址，以便在网络中进行通信。

## IP 地址

**IP 地址** 是网络中每台设备的唯一标识，就像邮寄地址一样，用于定位和传输数据。

目前主要有两种版本：

- **IPv4**（32 位，最常见，如 `192.168.1.1`）
- **IPv6**（128 位，如 `2001:db8::ff00:42:8329`，用于解决 IPv4 地址短缺问题）

## IPv4

IPv4 地址是**32 位二进制数**，通常表示为**四段十进制**（每段 8 位，范围 0-255），例如：`192.168.1.100`。

### IPv4 地址的分类

<!-- prettier-ignore -->
| 地址范围 | 类型 | 说明 |
| :---: | :---: | :---: |
| `0.0.0.0` | 特殊地址 | 代表 "所有 IP" 或默认路由 |
| `127.0.0.1` | 回环地址 | 代表本机，`ping 127.0.0.1` 测试本机网络 |
| `192.168.x.x`、`10.x.x.x`、`172.16.x.x` - `172.31.x.x` | 私有 IP | 内网 IP，不可直接访问公网 |
| `169.254.x.x` | APIPA（自动分配） | DHCP 失败时，自动分配的临时 IP |
| `224.0.0.0` - `239.255.255.255` | 组播地址 | 多播通信，如 IPTV |

### 公网 IP 和私有 IP

- **私有 IP**（内网 IP）：只能在局域网使用，不能直接访问互联网，例如：

  - `192.168.1.1`（家用路由器）
  - `10.0.0.1`（公司内部网关）

- **公网 IP**（外网 IP）：全球唯一，可直接访问互联网，通常由 ISP（互联网服务提供商）分配。

## IPv6

IPv6 采用 **128 位地址**，提供更大的地址空间，格式示例：`2001:db8:85a3::8a2e:370:7334`。

IPv6 取消了私有 IP 和 NAT，设备可以直接分配全球唯一的 IP 地址。

## IP 相关的常见概念

### DHCP（动态主机配置协议）

- 负责自动分配 IP 地址，减少手动配置。
- 设备连接 Wi-Fi 时，通常由路由器的 DHCP 服务器分配 IP。

### NAT（网络地址转换）

- 允许私有 IP 通过一个公共 IP 访问互联网（例如家用路由器）。
- NAT 方式：

  - **SNAT**（源 NAT）：多个内网设备共享一个公网 IP。
  - **DNAT**（目的 NAT）：把公网 IP 请求映射到内网服务器（如端口映射）。

### 路由

- **静态路由**：手动配置的路由规则。
- **动态路由**：使用协议（如 BGP、OSPF）自动选择最优路径。

# 重要协议

- **HTTP vs HTTPS**（HTTPS 加密更安全）
- **TCP vs UDP**（TCP 可靠，UDP 适用于高性能场景）
- **DNS**（域名解析）
- **WebSocket**（双向通信，适用于实时应用）
- **REST API vs GraphQL**（数据交互方式）

# 本地开发和部署

- **localhost（127.0.0.1）**：本机测试
- **Nginx/Apache 反向代理**：用于负载均衡、静态资源服务
- **Docker 网络模式**：bridge, host, overlay
- **Kubernetes（K8s）网络**：Pod 间通信、Service 发现

# 网络调试工具

- `ping`：测试连通性
- `curl` / `Postman`：API 调试
- `netstat` / `ss`：查看端口占用
- `tcpdump` / `Wireshark`：抓包分析
- `dig` / `nslookup`：DNS 解析查询
